{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/registration-success.svg","images/registration-error.svg","components/InfoTooltip.js","utils/Auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","exact","path","userEmail","to","onClick","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","api","options","_hanldeResponse","res","ok","json","Promise","reject","status","this","_baseUrl","baseUrl","_headers","headers","fetch","then","data","method","body","JSON","stringify","photoID","photoId","authorization","PopupWithForm","isOpen","title","onSubmit","noValidate","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ProtectedRoute","Component","component","isLoggedIn","Login","email","setEmail","password","setPassword","Register","InfoTooltip","isRegistrationSuccess","RegistrationSuccess","RegistrationError","BASE_URL","hanldeResponse","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarOpen","isAddPlacePopupOpen","setAddPlaceOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoggedIn","setIsRegistrationSuccess","history","useHistory","closeAllPopups","getUserInfo","catch","err","console","log","jwt","localStorage","getItem","Authorization","auth","push","getInitialCards","Provider","removeItem","deletePhoto","filter","item","changeLikeCardStatus","newCard","state","c","Accept","setItem","token","patchUserInfo","updateAvatar","addNewPhoto","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57fa3fa4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.abb64ac9.svg\";","import logo from '../images/header-logo.svg'\nimport React from 'react'\nimport { Link, Route } from 'react-router-dom'\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <div className=\"header__container\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\" />\n      <div className=\"header__login-container\">\n        <Route exact path=\"/\">\n          <p className=\"header__user-email\">{props.userEmail}</p>\n          <Link\n            to=\"/sign-in\"\n            className=\"header__link\"\n            onClick={props.onSignOut}\n          >\n            Выйти\n          </Link>\n        </Route>\n        <Route exact path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__link\">\n            Регистрация\n          </Link>\n        </Route>\n        <Route exact path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"header__link\">\n            Войти\n          </Link>\n        </Route>\n      </div>\n      </div>\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === currentUser._id\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `${\n    isOwn ? 'photo-grid__delete-button' : 'photo-grid__delete-button_hidden'\n  }`\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id)\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `${\n    isLiked\n      ? 'photo-grid__like-button photo-grid__like-button_active'\n      : 'photo-grid__like-button'\n  }`\n\n  function handleCardClick() {\n    props.onCardClick(props.card)\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card)\n  }\n\n  return (\n    <article className=\"photo-grid__card\">\n      <button\n        className={cardDeleteButtonClassName}\n        type=\"button\"\n        aria-label=\"Удалить изображение\"\n        onClick={handleCardDelete}\n      ></button>\n      <img\n        className=\"photo-grid__image\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleCardClick}\n      />\n      <div className=\"photo-grid__container\">\n        <h2 className=\"photo-grid__title\">{props.card.name}</h2>\n        <div className=\"photo-grid__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"Поставить лайк фотографии\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"photo-grid__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card\n","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"main\">\n      {/* <!-- PROFILE --> */}\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            className=\"profile__avatar\"\n            src={currentUser.avatar}\n            alt=\"Аватар пользователя\"\n          />\n          <div\n            className=\"profile__avatar-overlay\"\n            onClick={props.onEditAvatar}\n          ></div>\n        </div>\n        <div className=\"profile__card\">\n          <div className=\"profile__info\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              type=\"button\"\n              aria-label=\"Редактировать профиль\"\n              onClick={props.onEditProfile}\n            ></button>\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"Добавить фотографию\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n      {/* <!-- PHOTO GRID --> */}\n      <section className=\"photo-grid\">\n        {props.cards.map((card) => (\n          <Card\n            key={card._id}\n            card={card}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  )\n}\n\nexport default Main\n","import React from 'react'\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\n\nfunction ImagePopup(props) {\n  // console.log(props)\n  return (\n    <section\n      className={`popup popup_image-fullscreen ${\n        props.card.link && 'popup_opened'\n      }`}\n    >\n      <div className=\"popup__image-container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          aria-label=\"Закрыть окно\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          src={props.card.link}\n          alt={props.card.name}\n          className=\"popup__image\"\n        />\n        <p className=\"popup__image-fullscreen-text\">{props.card.name}</p>\n      </div>\n    </section>\n  )\n}\n\nexport default ImagePopup\n","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl\n    this._headers = options.headers\n  }\n\n  _hanldeResponse = (res) => {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`)\n    }\n    return res.json()\n  }\n\n  /* Получение фото */\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then((res) => this._hanldeResponse(res))\n  }\n\n  /* Получение инфо о пользователе */\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then((res) => this._hanldeResponse(res))\n  }\n\n  /* Загрузка инфо о пользователе */\n  patchUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => this._hanldeResponse(res))\n  }\n\n  /* Добавление фото */\n  addNewPhoto(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then((res) => this._hanldeResponse(res))\n  }\n\n  /* Удаление фото */\n  deletePhoto(photoID) {\n    return fetch(`${this._baseUrl}/cards/${photoID}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => this._hanldeResponse(res))\n  }\n\n  /* Лайк фото */\n  setLike(photoId) {\n    return fetch(`${this._baseUrl}/cards/likes/${photoId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then((res) => this._hanldeResponse(res))\n  }\n\n  /* Снятие лайка */\n  deleteLike(photoId) {\n    return fetch(`${this._baseUrl}/cards/likes/${photoId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => this._hanldeResponse(res))\n  }\n\n  /* Снятие и установка лайка */\n  changeLikeCardStatus(photoId, isLiked) {\n    return fetch(`${this._baseUrl}/cards/likes/${photoId}`, {\n      method: isLiked ? 'PUT' : 'DELETE',\n      headers: this._headers,\n    }).then((res) => this._hanldeResponse(res))\n  }\n\n  /* Обновление аватара */\n  updateAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then((res) => this._hanldeResponse(res))\n  }\n}\n\n// NEW API\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\n\n  headers: {\n    authorization: 'd08facf4-cfb9-4bbf-b1e2-fb8de78d9cf7',\n    'Content-Type': 'application/json',\n  },\n})\n\nexport default api\n","import React from 'react'\n\nfunction PopupWithForm(props) {\n  return (\n    <article\n      className={`popup popup_${props.name} ${props.isOpen && 'popup_opened'}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          aria-label=\"Закрыть окно\"\n          onClick={props.onClose}\n        ></button>\n        <h3 className=\"popup__title\">{props.title}</h3>\n        <form\n          className=\"popup__form\"\n          name={`${props.name}`}\n          onSubmit={props.onSubmit}\n          noValidate\n        >\n          {props.children}\n          <button className=\"popup__submit-button\" type=\"submit\">\n            Сохранить\n          </button>\n        </form>\n      </div>\n    </article>\n  )\n}\n\nexport default PopupWithForm\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser, props.isOpen])\n\n  function onChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function onChangeDescription(e) {\n    setDescription(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  return (\n    /* POPUP - PROFILE EDIT */\n    <PopupWithForm\n      name=\"profile-edit\"\n      title=\"Редактировать профиль\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"popup__section\">\n        <input\n          className=\"popup__input popup__input_type_title\"\n          type=\"text\"\n          name=\"name\"\n          id=\"profiletitle-input\"\n          placeholder=\"Имя профиля\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          value={name || ''}\n          onChange={onChangeName}\n          required\n        />\n        <span className=\"popup__error\" id=\"profiletitle-input-error\"></span>\n      </section>\n      <section className=\"popup__section\">\n        <input\n          className=\"popup__input popup__input_type_subtitle\"\n          type=\"text\"\n          name=\"about\"\n          id=\"pofilesubtitle-input\"\n          placeholder=\"Описание профиля\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          value={description || ''}\n          onChange={onChangeDescription}\n          required\n        />\n        <span className=\"popup__error\" id=\"pofilesubtitle-input-error\"></span>\n      </section>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef()\n\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    /* POPUP - EDIT AVATAR */\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"popup__section\">\n        <input\n          className=\"popup__input popup__input_type_avatar-url\"\n          type=\"url\"\n          name=\"avatar\"\n          id=\"avatar-input\"\n          placeholder=\"Ссылка на изображение\"\n          ref={avatarRef}\n          required\n        />\n        <span className=\"popup__error\" id=\"avatar-input-error\"></span>\n      </section>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('')\n  const [link, setLink] = React.useState('')\n\n  function onChangeName(e) {\n    setName(e.target.value)\n  }\n\n  function onChangeLink(e) {\n    setLink(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    props.onAddPlace({\n      name: name,\n      link: link,\n    })\n  }\n\n  return (\n    /* POPUP - ADD PHOTO */\n    <PopupWithForm\n      name=\"add-photo\"\n      title=\"Новое место\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"popup__section\">\n        <input\n          className=\"popup__input popup__input_type_photo-name\"\n          type=\"text\"\n          name=\"name\"\n          id=\"phototitle-input\"\n          placeholder=\"Название изображения\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          value={name}\n          onChange={onChangeName}\n          required\n        />\n        <span className=\"popup__error\" id=\"phototitle-input-error\"></span>\n      </section>\n      <section className=\"popup__section\">\n        <input\n          className=\"popup__input popup__input_type_photo-url\"\n          type=\"url\"\n          name=\"link\"\n          id=\"photourl-input\"\n          placeholder=\"Ссылка на изображение\"\n          value={link}\n          onChange={onChangeLink}\n          required\n        />\n        <span className=\"popup__error\" id=\"photourl-input-error\"></span>\n      </section>\n    </PopupWithForm>\n  )\n}\nexport default AddPlacePopup\n","import { Route, Redirect } from 'react-router-dom'\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute\n","import React from 'react'\n\nfunction Login(props) {\n  const [email, setEmail] = React.useState('')\n  const [password, setPassword] = React.useState('')\n\n  function onEmailChange(e) {\n    setEmail(e.target.value)\n  }\n\n  function onPasswordChange(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onSubmit(email, password)\n  }\n\n  return (\n    <main className=\"main\">\n      <section className=\"entry-page\">\n        <h1 className=\"entry-page__title\">Вход</h1>\n        <form\n          className=\"entry-page__form\"\n          name=\"sign-in-form\"\n          onSubmit={handleSubmit}\n        >\n          <input\n            className=\"entry-page__input\"\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={email}\n            onChange={onEmailChange}\n            required\n          />\n          <input\n            className=\"entry-page__input\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            name=\"password\"\n            minLength=\"3\"\n            maxLength=\"10\"\n            value={password}\n            onChange={onPasswordChange}\n            required\n          />\n          <button className=\"entry-page__button\" type=\"submit\">\n            Войти\n          </button>\n        </form>\n      </section>\n    </main>\n  )\n}\n\nexport default Login\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction Register(props) {\n  const [email, setEmail] = React.useState('')\n  const [password, setPassword] = React.useState('')\n\n  function onEmailChange(e) {\n    setEmail(e.target.value)\n  }\n\n  function onPasswordChange(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onSubmit(email, password)\n  }\n\n  return (\n    <main className=\"main\">\n      <section className=\"entry-page\">\n        <h1 className=\"entry-page__title\">Регистрация</h1>\n        <form\n          className=\"entry-page__form\"\n          name=\"sign-up-form\"\n          onSubmit={handleSubmit}\n        >\n          <input\n            className=\"entry-page__input\"\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            value={email}\n            onChange={onEmailChange}\n            required\n          />\n          <input\n            className=\"entry-page__input\"\n            type=\"password\"\n            placeholder=\"Пароль\"\n            name=\"password\"\n            value={password}\n            onChange={onPasswordChange}\n            required\n          />\n          <button className=\"entry-page__button\" type=\"submit\">\n            Зарегистрироваться\n          </button>\n        </form>\n        <Link to=\"/sign-in\" className=\"entry-page__link\">\n          Уже зарегистрированы? Войти\n        </Link>\n      </section>\n    </main>\n  )\n}\n\nexport default Register\n","export default __webpack_public_path__ + \"static/media/registration-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/registration-error.7c6a020b.svg\";","import React from 'react'\nimport RegistrationSuccess from '../images/registration-success.svg'\nimport RegistrationError from '../images/registration-error.svg'\n\nfunction InfoTooltip(props) {\n  return (\n    <article\n      className={`popup ${props.isOpen && 'popup_opened'}`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          aria-label=\"Закрыть окно\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          className=\"popup__icon\"\n          src={\n            props.isRegistrationSuccess\n              ? RegistrationSuccess\n              : RegistrationError\n          }\n          alt={props.isRegistrationSuccess\n          ? 'Круг с галкой в центре'\n          : 'Круг с крестом в центре'\n          }\n        />\n        <h2 className=\"popup__text\">\n          {props.isRegistrationSuccess\n            ? 'Вы успешно зарегистрировались!'\n            : 'Что-то пошло не так! Попробуйте еще раз.'}\n        </h2>\n      </div>\n    </article>\n  )\n}\n\nexport default InfoTooltip\n","export const BASE_URL = 'https://auth.nomoreparties.co'\n\nconst hanldeResponse = (res) => {\n  if (!res.ok) {\n    return Promise.reject(`Ошибка: ${res.status}`)\n  }\n  return res.json()\n}\n\nexport const registration = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      \"email\": email,\n      \"password\": password,\n    }),\n  }).then((res) => hanldeResponse(res))\n}\n\nexport const login = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  })\n    .then((res) => hanldeResponse(res))\n    .then((data) => {\n      return data\n    })\n}\n\nexport const checkToken = (jwt) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${jwt}`,\n    },\n  }).then((res) => hanldeResponse(res))\n}\n","import React from 'react'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport ImagePopup from './ImagePopup'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/Api'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ProtectedRoute from './ProtectedRoute'\nimport Login from './Login'\nimport Register from './Register'\nimport InfoTooltip from './InfoTooltip'\nimport { Route, Redirect, Switch, useHistory } from 'react-router-dom'\nimport * as auth from '../utils/Auth'\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] =\n    React.useState(false)\n  const [isEditAvatarPopupOpen, setEditAvatarOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlaceOpen] = React.useState(false)\n  // Popup авторизации\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({ name: '', link: '' })\n  const [currentUser, setCurrentUser] = React.useState({})\n  // Карточки\n  const [cards, setCards] = React.useState([])\n\n  // Авторизация\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false)\n  const [isRegistrationSuccess, setIsRegistrationSuccess] =\n    React.useState(false)\n  const history = useHistory()\n  const [email, setEmail] = React.useState('')\n\n  // API\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n  // Auth\n  // Регистрация пользователя\n  function handleRegistrationSubmit(email, password) {\n    auth\n      .registration(email, password)\n      .then((res) => {\n        if (res) {\n          setIsRegistrationSuccess(true)\n          setIsInfoTooltipOpen(true)\n          history.push('/sign-in')\n        }\n      })\n      .catch((err) => {\n        setIsRegistrationSuccess(false)\n        setIsInfoTooltipOpen(true)\n        console.log(err)\n      })\n  }\n\n  // Логин пользователя\n  function handleLoginSubmit(email, password) {\n    auth\n      .login(email, password)\n      .then((res) => {\n        if (res) {\n          localStorage.setItem('jwt', res.token)\n          setIsLoggedIn(true)\n          setEmail(email)\n          history.push('/')\n        }\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  // Проверка токена\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt')\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((res) => {\n          setIsLoggedIn(true)\n          setEmail(res.data.email)\n          history.push('/')\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    }\n  })\n\n  // Выход из аккаунта\n  function handleSignOut() {\n    localStorage.removeItem('jwt')\n    setIsLoggedIn(false)\n    history.push('/sign-in')\n  }\n\n  // Обновление данных профиля\n  function handleUpdateUser(data) {\n    api\n      .patchUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  // Обновление аватара\n  function handleUpdateAvatar(data) {\n    api\n      .updateAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  // Получение изначальных карточек\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n  // Лайк карточки\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)))\n    })\n  }\n\n  // Удаление карточки\n  function handleCardDelete(card) {\n    api\n      .deletePhoto(card._id)\n      .then(() => {\n        setCards(cards.filter((item) => item._id !== card._id))\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  // Добавление карточки\n  function handleAddPlaceSubmit(card) {\n    api\n      .addNewPhoto(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.error(err)\n      })\n  }\n\n  // Открытие Popup'ов\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlaceOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false)\n    setEditAvatarOpen(false)\n    setAddPlaceOpen(false)\n    setSelectedCard({ name: '', link: '' })\n    setIsInfoTooltipOpen(false)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"body\">\n        <div className=\"page\">\n          {/* HEADER */}\n          <Header \n          userEmail={email} \n          onSignOut={handleSignOut} \n          />\n          {/* MAIN */}\n          <Switch>\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              isLoggedIn={isLoggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardDelete={handleCardDelete}\n              onCardLike={handleCardLike}\n            />\n            <Route path=\"/sign-in\">\n              <Login onSubmit={handleLoginSubmit} />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register onSubmit={handleRegistrationSubmit} />\n            </Route>\n            <Route path=\"/\">\n              {isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n          </Switch>\n\n          {/* FOOTER */}\n          <Footer />\n\n         \n        </div>\n\n         {/* POPUP - INFO TOOLTIP */}\n         <InfoTooltip\n            isOpen={isInfoTooltipOpen}\n            onClose={closeAllPopups}\n            isRegistrationSuccess={isRegistrationSuccess}\n          />\n          {/* POPUP - PROFILE EDIT */}\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          {/* POPUP - EDIT AVATAR */}\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          {/* POPUP - ADD PHOTO */}\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          {/* POPUP - IMAGE FULLSCREEN */}\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\nimport reportWebVitals from './reportWebVitals'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}